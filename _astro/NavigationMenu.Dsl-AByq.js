import{j as i}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.Cd_vQiNd.js";const q=["shift","alt","meta","mod","ctrl","control"],M={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function k(e){return(M[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function D(e){return q.includes(e)}function C(e,t=","){return e.toLowerCase().split(t)}function K(e,t="+",n=">",l=!1,a){let s=[],c=!1;e=e.trim(),e.includes(n)?(c=!0,s=e.toLocaleLowerCase().split(n).map(m=>k(m))):s=e.toLocaleLowerCase().split(t).map(m=>k(m));const g={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),shift:s.includes("shift"),meta:s.includes("meta"),mod:s.includes("mod"),useKey:l},u=s.filter(m=>!q.includes(m));return{...g,keys:u,description:a,isSequence:c,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&H([k(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&T([k(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{w.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{w.clear()},0)}));const w=new Set;function S(e){return Array.isArray(e)}function W(e,t=","){return(S(e)?e:e.split(t)).every(n=>w.has(n.trim().toLowerCase()))}function H(e){const t=Array.isArray(e)?e:[e];w.has("meta")&&w.forEach(n=>!D(n)&&w.delete(n.toLowerCase())),t.forEach(n=>w.add(n.toLowerCase()))}function T(e){const t=Array.isArray(e)?e:[e];e==="meta"?w.clear():t.forEach(n=>w.delete(n.toLowerCase()))}function _(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function G(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}const Q=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function U(e){return $(e,Q)}function $(e,t=!1){const{target:n,composed:l}=e;let a,s;return V(n)&&l?(a=e.composedPath()[0]&&e.composedPath()[0].tagName,s=e.composedPath()[0]&&e.composedPath()[0].role):(a=n&&n.tagName,s=n&&n.role),S(t)?!!(a&&t&&t.some(c=>c.toLowerCase()===a.toLowerCase()||c===s)):!!(a&&t&&t)}function V(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function X(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const Y=(e,t,n=!1)=>{const{alt:l,meta:a,mod:s,shift:c,ctrl:g,keys:u,useKey:m}=t,{code:j,key:r,ctrlKey:L,metaKey:x,shiftKey:h,altKey:y}=e,f=k(j);if(m&&u?.length===1&&u.includes(r))return!0;if(!u?.includes(f)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(f))return!1;if(!n){if(l!==y&&f!=="alt"||c!==h&&f!=="shift")return!1;if(s){if(!x&&!L)return!1}else if(a!==x&&f!=="meta"&&f!=="os"||g!==L&&f!=="ctrl"&&f!=="control")return!1}return u&&u.length===1&&u.includes(f)?!0:u?W(u):!u},Z=d.createContext(void 0),z=()=>d.useContext(Z);function F(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((n,l)=>n&&F(e[l],t[l]),!0):e===t}const J=d.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),B=()=>d.useContext(J);function ee(e){const t=d.useRef(void 0);return F(t.current,e)||(t.current=e),t.current}const O=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},te=typeof window<"u"?d.useLayoutEffect:d.useEffect;function N(e,t,n,l){const a=d.useRef(null),s=d.useRef(!1),c=Array.isArray(n)?Array.isArray(l)?void 0:l:n,g=S(e)?e.join(c?.delimiter):e,u=Array.isArray(n)?n:Array.isArray(l)?l:void 0,m=d.useCallback(t,u??[]),j=d.useRef(m);u?j.current=m:j.current=t;const r=ee(c),{activeScopes:L}=B(),x=z();return te(()=>{if(r?.enabled===!1||!X(L,r?.scopes))return;let h=[],y;const f=(o,P=!1)=>{if(!(U(o)&&!$(o,r?.enableOnFormTags))){if(a.current!==null){const v=a.current.getRootNode();if((v instanceof Document||v instanceof ShadowRoot)&&v.activeElement!==a.current&&!a.current.contains(v.activeElement)){O(o);return}}o.target?.isContentEditable&&!r?.enableOnContentEditable||C(g,r?.delimiter).forEach(v=>{if(v.includes(r?.splitKey??"+")&&v.includes(r?.sequenceSplitKey??">")){console.warn(`Hotkey ${v} contains both ${r?.splitKey??"+"} and ${r?.sequenceSplitKey??">"} which is not supported.`);return}const p=K(v,r?.splitKey,r?.sequenceSplitKey,r?.useKey,r?.description);if(p.isSequence){y=setTimeout(()=>{h=[]},r?.sequenceTimeoutMs??1e3);const b=p.useKey?o.key:k(o.code);if(D(b.toLowerCase()))return;h.push(b);const I=p.keys?.[h.length-1];if(b!==I){h=[],y&&clearTimeout(y);return}h.length===p.keys?.length&&(j.current(o,p),y&&clearTimeout(y),h=[])}else if(Y(o,p,r?.ignoreModifiers)||p.keys?.includes("*")){if(r?.ignoreEventWhen?.(o)||P&&s.current)return;if(_(o,p,r?.preventDefault),!G(o,p,r?.enabled)){O(o);return}j.current(o,p),P||(s.current=!0)}})}},A=o=>{o.code!==void 0&&(H(k(o.code)),(r?.keydown===void 0&&r?.keyup!==!0||r?.keydown)&&f(o))},R=o=>{o.code!==void 0&&(T(k(o.code)),s.current=!1,r?.keyup&&f(o,!0))},E=a.current||c?.document||document;return E.addEventListener("keyup",R,c?.eventListenerOptions),E.addEventListener("keydown",A,c?.eventListenerOptions),x&&C(g,r?.delimiter).forEach(o=>x.addHotkey(K(o,r?.splitKey,r?.sequenceSplitKey,r?.useKey,r?.description))),()=>{E.removeEventListener("keyup",R,c?.eventListenerOptions),E.removeEventListener("keydown",A,c?.eventListenerOptions),x&&C(g,r?.delimiter).forEach(o=>x.removeHotkey(K(o,r?.splitKey,r?.sequenceSplitKey,r?.useKey,r?.description))),h=[],y&&clearTimeout(y)}},[g,r,L]),a}const oe=()=>{N("h",()=>window.location.href="/",{preventDefault:!0}),N("p",()=>window.location.href="/projects",{preventDefault:!0}),N("f",()=>window.location.href="/feeling-lucky",{preventDefault:!0});const[e,t]=d.useState("");return d.useEffect(()=>{t(window.location.pathname)},[]),i.jsx("nav",{className:"site-nav bg-white/80",children:i.jsxs("div",{className:"site-container h-14 flex items-center justify-between sm:justify-start",children:[i.jsx("a",{className:"sm:hidden font-mono text-black text-sm font-bold tracking-tighter",href:"/",children:"ANDREW_FIREK"}),i.jsx("a",{href:"/projects",className:"sm:hidden font-mono text-sm  text-gray-500 hover:text-black transition-colors",children:"Projects"}),i.jsxs("ul",{className:"hidden sm:flex items-center gap-1 mx-auto list-none m-0 p-0",children:[i.jsx("li",{children:i.jsxs("a",{href:"/",className:`group nav-link ${e==="/"?"active":""}`,children:[i.jsx("span",{className:"nav-key",children:"H"}),i.jsx("span",{children:"Home"})]})}),i.jsx("li",{children:i.jsxs("a",{href:"/projects",className:`group nav-link ${e==="/projects"?"active":""}`,children:[i.jsx("span",{className:"nav-key",children:"P"}),i.jsx("span",{children:"Projects"})]})}),i.jsx("li",{children:i.jsxs("a",{href:"/feeling-lucky",className:`group nav-link ${e==="/feeling-lucky"?"active":""}`,children:[i.jsx("span",{className:"nav-key",children:"F"}),i.jsx("span",{children:"I'm Feeling Lucky"})]})})]})]})})};export{oe as default};
